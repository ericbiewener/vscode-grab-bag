{"version":3,"sources":["../webpack/bootstrap",".././node_modules/lodash/last.js",".././src/editor-manipulation.ts",".././src/index.ts",".././src/iterm.ts",".././src/jest.ts",".././src/utils.ts","../external \"child_process\"","../external \"fs\"","../external \"path\"","../external \"vscode\""],"names":["closeAllPanels","commands","executeCommand","moveEditorToOtherGroup","editor","window","activeTextEditor","viewColumn","moveCaret","down","position","selection","active","change","newLine","Math","min","document","lineCount","max","line","newPosition","with","character","newSelection","Selection","lineNumber","activate","ctx","setExtCtx","subscriptions","push","registerCommand","openCorrespondingTestFile","openCorrespondingSnapshot","createCorrespondingTestFile","getScriptPath","path","join","CTX","extensionPath","runJestTestInIterm","rootDir","filepath","cmd","stdout","spawnSync","sessionId","toString","trim","fileName","filenameParts","getFilenameParts","length","dir","dirname","filepathToShow","testFilepath","basename","splice","getCorrespondingTestFilepath","Promise","all","showTextDocument","workspace","workspaceFolders","uri","fsPath","snapshot","isFile","fs","mkdirSync","recursive","writeFileSync","split","statSync","e","code","moveToOtherColumn","preserveFocus","newEditor","Uri","file","preview"],"mappings":"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","file":"extension.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.ts\");\n","/**\n * Gets the last element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the last element of `array`.\n * @example\n *\n * _.last([1, 2, 3]);\n * // => 3\n */\nfunction last(array) {\n  var length = array == null ? 0 : array.length;\n  return length ? array[length - 1] : undefined;\n}\n\nmodule.exports = last;\n","import { commands, Selection, window } from 'vscode'\n\nexport async function closeAllPanels() {\n  commands.executeCommand('workbench.action.closePanel')\n  await commands.executeCommand('workbench.action.maximizeEditor')\n  commands.executeCommand('workbench.action.evenEditorWidths')\n}\n\nexport function moveEditorToOtherGroup() {\n  const editor = window.activeTextEditor\n  if (!editor) return\n\n  if (editor.viewColumn > 1) {\n    commands.executeCommand('workbench.action.moveEditorToPreviousGroup')\n  } else {\n    commands.executeCommand('workbench.action.moveEditorToNextGroup')\n  }\n}\n\nexport async function moveCaret(down = true) {\n  const editor = window.activeTextEditor\n  if (!editor) return\n\n  const position = editor.selection.active\n  const change = down ? 10 : -10\n  const newLine = Math.min(editor.document.lineCount, Math.max(0, position.line + change))\n  var newPosition = position.with(newLine, position.character)\n  var newSelection = new Selection(newPosition, newPosition)\n  editor.selection = newSelection\n  commands.executeCommand('revealLine', { lineNumber: newLine })\n}\n","import { commands, ExtensionContext } from 'vscode'\nimport { closeAllPanels, moveCaret, moveEditorToOtherGroup } from './editor-manipulation'\nimport { createCorrespondingTestFile, openCorrespondingSnapshot, openCorrespondingTestFile\n} from './jest';\nimport { setExtCtx } from './utils';\n\nexport const activate = async function activate(ctx: ExtensionContext) {\n  setExtCtx(ctx)\n\n  ctx.subscriptions.push(\n    commands.registerCommand('grabBag.openCorrespondingTestFile', openCorrespondingTestFile),\n    commands.registerCommand('grabBag.openCorrespondingSnapshot', openCorrespondingSnapshot),\n    commands.registerCommand('grabBag.createCorrespondingTestFile', createCorrespondingTestFile),\n    commands.registerCommand('grabBag.closeAllPanels', closeAllPanels),\n    commands.registerCommand('grabBag.moveEditorToOtherGroup', moveEditorToOtherGroup),\n    commands.registerCommand('grabBag.moveCaretDown', () => moveCaret()),\n    commands.registerCommand('grabBag.moveCaretUp', () => moveCaret(false))\n  )\n}\n","import path from 'path'\nimport { spawnSync } from 'child_process'\nimport { CTX } from './utils'\n\nfunction getScriptPath() {\n  return path.join(CTX.extensionPath, 'scripts/run-in-iterm.py')\n}\n\nexport async function runJestTestInIterm(rootDir: string, filepath: string): Promise<void> {\n  const cmd = [\n    `cd ${rootDir}`,\n    `npm run jest:watch ${filepath}`,\n  ].join('&&')\n  \n  const { stdout } = spawnSync(getScriptPath(), ['Jest', runJestTestInIterm.sessionId, cmd])\n\n  runJestTestInIterm.sessionId = stdout.toString().trim()\n}\nrunJestTestInIterm.sessionId = \"\"\n","import path from 'path'\nimport { window, workspace } from 'vscode';\nimport _ from 'lodash'\nimport { runJestTestInIterm } from './iterm';\nimport { isFile, showTextDocument } from './utils';\nimport fs from 'fs';\n\nexport async function openCorrespondingTestFile() {\n  const editor = window.activeTextEditor\n  if (!editor) return\n\n  const filepath = editor.document.fileName\n  const filenameParts = getFilenameParts(filepath)\n  if (filenameParts.length === 1) return\n\n  const dir = path.dirname(filepath)\n  let filepathToShow: string\n  let testFilepath: string\n\n  if (_.last(filenameParts) === 'snap') {\n    // Snapshot\n    filepathToShow = path.join(dir, '..', path.basename(filepath, '.snap'))\n    testFilepath = filepathToShow\n  } else if (filenameParts[filenameParts.length - 2] === 'test') {\n    // Test file\n    filenameParts.splice(-2, 1)\n    filepathToShow = path.join(dir, '..', filenameParts.join('.'))\n    testFilepath = filepath\n  } else {\n    // Production Code\n    filepathToShow = getCorrespondingTestFilepath(filepath)\n    testFilepath = filepathToShow\n  }\n\n  return Promise.all([\n    showTextDocument(filepathToShow, true),\n    runJestTestInIterm(workspace.workspaceFolders![0].uri.fsPath, testFilepath),\n  ])\n}\n\nexport function openCorrespondingSnapshot() {\n  const editor = window.activeTextEditor\n  if (!editor) return\n\n  const filepath = editor.document.fileName\n  const snapshot = path.join(\n    path.dirname(filepath),\n    '__snapshots__',\n    `${path.basename(filepath)}.snap`\n  )\n  return showTextDocument(snapshot, true)\n}\n\nexport function createCorrespondingTestFile() {\n  const editor = window.activeTextEditor\n  if (!editor) return\n\n  const testFilepath = getCorrespondingTestFilepath(editor.document.fileName)\n  if (!isFile(testFilepath)) {\n    fs.mkdirSync(path.dirname(testFilepath), { recursive: true })\n    fs.writeFileSync(testFilepath, '')\n  }\n  showTextDocument(testFilepath)\n}\n\nexport function getFilenameParts(filepath: string) {\n  return path.basename(filepath).split('.')\n}\n\nfunction getCorrespondingTestFilepath(filepath: string) {\n  const filenameParts = getFilenameParts(filepath)\n  filenameParts.splice(-1, 0, 'test')\n  return path.join(path.dirname(filepath), '__tests__', filenameParts.join('.'))\n}\n","import fs from 'fs'\nimport { Uri, window, workspace, commands, ExtensionContext } from 'vscode'\n\nexport let CTX: ExtensionContext\n\nexport function setExtCtx(ctx: ExtensionContext) {\n  CTX = ctx\n}\n\nexport function isFile(filepath: string) {\n  try {\n    return fs.statSync(filepath).isFile()\n  } catch (e) {\n    if (e.code !== 'ENOENT') throw e // File might exist, but something else went wrong (e.g. permissions error)\n    return false\n  }\n}\n\nexport async function showTextDocument(\n  filepath: string,\n  moveToOtherColumn = false,\n  preserveFocus = false\n) {\n  if (!isFile(filepath)) return\n\n  let viewColumn = 1\n  const editor = window.activeTextEditor\n\n  if (moveToOtherColumn && editor && editor.viewColumn) {\n    viewColumn = editor.viewColumn + (editor.viewColumn > 1 ? -1 : 1)\n  }\n\n  const newEditor = await window.showTextDocument(Uri.file(filepath), {\n    preserveFocus,\n    preview: false,\n  })\n\n  if (newEditor.viewColumn !== viewColumn) moveEditorToOtherGroup()\n}\n\nfunction moveEditorToOtherGroup() {\n  const editor = window.activeTextEditor\n  if (!editor || !editor.viewColumn) return\n\n  if (editor.viewColumn > 1) {\n    commands.executeCommand('workbench.action.moveEditorToPreviousGroup')\n  } else {\n    commands.executeCommand('workbench.action.moveEditorToNextGroup')\n  }\n}\n","module.exports = require(\"child_process\");","module.exports = require(\"fs\");","module.exports = require(\"path\");","module.exports = require(\"vscode\");"],"sourceRoot":""}